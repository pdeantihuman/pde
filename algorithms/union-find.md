# Case Study: Union find

为了说明我们开发和分析算法的基本方法，我们现在考虑一个详细的例子。我们的目的是强调以下主题。

- 好的算法可以区分能够解决实际问题和根本不能解决问题。
- 一个有效的算法和一个低效的算法一样容易编码。
- 理解一个实现的性能特征可能是一个有趣且令人满意的智力挑战。
- 科学方法是帮助我们在不同的事物中进行选择的重要工具
  解决同样问题的方法。
- 一个迭代的细化过程可以带来越来越有效的算法。

这些主题贯穿整本书。这个典型的例子为我们在许多其他问题上使用相同的通用方法奠定了基础。

我们认为的问题不是玩具问题；这是一项基本的计算任务，我们开发的解决方案可用于各种应用，从物理化学中的渗透到通信网络中的连接。我们从一个简单的解决方案开始，然后寻求理解该解决方案的性能特征，这有助于我们了解如何改进算法。

我们从以下问题规范开始:输入是一系列整数对，其中每个整数代表某种类型的对象，我们将把对p q解释为“p连接到q”。我们假设“连接到”是等价关系，这意味着它是等价关系

- 反射: p可以连接到p。
- 对称: 如果p可以连接到q，那么q可以连接到p
- 传递: 如果p可以连接到q，q可以连接到r，那么p可以连接到r

等价关系将对象划分为等价类。在这种情况下，当且仅当两个对象连接时，它们才属于同一个等价类。我们的目标是编写一个程序，从序列中过滤掉无关的对(两个对象在同一个等价类中的对)。换句话说，当程序从输入端读取一对p q时，只有当它已经看到的对不意味着p连接到q时，它才应该将该对写入输出端。如果前面的对确实意味着p连接到q，那么程序应该忽略该对p q并继续读取下一对。封面上的图给出了这个过程的一个例子。为了实现期望的目标，我们需要设计一个能够记住足够多的数据结构

